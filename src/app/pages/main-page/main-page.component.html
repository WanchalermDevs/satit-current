<mat-sidenav-container>
  <mat-sidenav #sidenav [mode]="sidenavMode" [opened]="sideNavOpened" class="left-sidenav" (open)="resizeService.resizeInformer$.next()"
    (close)="resizeService.resizeInformer$.next()">
    <header class="sidenav-header" fxLayout="row" fxLayoutAlign="space-between center">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <div fxFlex class="text-center pad-right-xl">
        <a href="/">
          <img *ngIf="darkTheme; else darkLogo" src="/assets/logo/logo-nud-info.png">
          <ng-template #darkLogo>
            <img src="/assets/logo/logo-nud-info.png">
          </ng-template>
        </a>
      </div>
    </header>
    <perfect-scrollbar class="perfect-scrollbar">
      <px-gdn-sidemenu>
        <px-gdn-sideitem title="Dashboard" [routerLinkUrl]="'dashboard'">
          <mat-icon>dashboard</mat-icon>
        </px-gdn-sideitem>
      </px-gdn-sidemenu>
    </perfect-scrollbar>
    <footer class="secondary-text-color">
      <mat-divider></mat-divider>
      <p>งานระบบเทคโนโลยีสารสนเทศ และการสื่อสาร</p>
    </footer>
  </mat-sidenav>
  <mat-sidenav #optionsnav mode="over" align="end">
    <mat-toolbar color="primary">
      <h5>Theme options</h5>
      <span fxFlex></span>
      <button mat-icon-button (click)="optionsnav.close()">
        <mat-icon>close</mat-icon>
      </button>
    </mat-toolbar>
    <div class="pad" fxLayoutAlign="space-between center">
      <span class="mat-subhead">Dark theme</span>
      <mat-slide-toggle [(ngModel)]="darkTheme"></mat-slide-toggle>
    </div>
    <div class="pad" fxLayoutAlign="space-between center">
      <span fxFlex class="mat-subhead">Sidenav mode</span>
      <mat-select fxFlex [(ngModel)]="sidenavMode">
        <mat-option value="side">Side</mat-option>
        <mat-option value="over">Over</mat-option>
        <mat-option value="push">Push</mat-option>
      </mat-select>
    </div>
    <div class="pad" fxLayoutAlign="space-between center">
      <span class="mat-subhead">Boxed layout</span>
      <mat-slide-toggle [(ngModel)]="boxedLayout"></mat-slide-toggle>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <a fxHide="true" fxHide.gt-sm="false" href="/" class="logo">
        <img src="/assets/logo/satit_name.png">
      </a>
      <span fxFlex></span>
      <!-- <td-search-box class="header-search" [alwaysVisible]="false" fxHide="true" fxHide.gt-sm="false"></td-search-box> -->
      <button mat-button (click)="gotoDashboard()">
        <mat-icon>dashboard</mat-icon>
        หน้าหลัก
      </button>
      <button mat-button [matMenuTriggerFor]="onlineservice">
        <mat-icon>filter_drama</mat-icon> บริการออนไลน์
      </button>
      <mat-menu #onlineservice="matMenu">
        <mat-nav-list>
          <a mat-list-item>
            <img mat-list-avatar src="http://www.satit.nu.ac.th/2016/img/logo.png">
            <h4 matLine fxLayoutAlign="space-between">
              <span>เวลาเข้า-ออกงาน</span>
              <span class="mat-caption"></span>
            </h4>
            <p matLine>
              <span>ประวัติบันทึกเวลาสแกนลายนิ้วมือ</span>
            </p>
          </a>
          <a mat-list-item>
            <img mat-list-avatar src="http://www.satit.nu.ac.th/2016/img/logo.png">
            <h4 matLine fxLayoutAlign="space-between">
              <span>ลากิจ/ลาป่วย/ลาพักผ่อน</span>
              <span class="mat-caption"></span>
            </h4>
            <p matLine>
              <span>สิทธิ์ และประวัติการลา</span>
            </p>
          </a>
          <a mat-list-item>
            <img mat-list-avatar src="http://www.satit.nu.ac.th/2016/img/logo.png">
            <h4 matLine fxLayoutAlign="space-between">
              <span>นักเรียน</span>
              <span class="mat-caption"></span>
            </h4>
            <p matLine>
              <span>สืบค้นข้อมูลนักเรียน</span>
            </p>
          </a>
        </mat-nav-list>
      </mat-menu>
      <!-- <button mat-icon-button [matMenuTriggerFor]="lettersMenu">
        <td-notification-count [notifications]="3">
          <mat-icon>mail</mat-icon>
        </td-notification-count>
      </button>
      <mat-menu #lettersMenu="matMenu">
        <mat-nav-list>
          <a mat-list-item *ngFor="let message of messages">
            <img mat-list-avatar [src]="message.image">
            <h4 matLine fxLayoutAlign="space-between">
              <span>{{message.subject}}</span>
              <span class="mat-caption">{{message.time}}</span>
            </h4>
            <p matLine>
              <span>{{message.message}}</span>
            </p>
          </a>
        </mat-nav-list>
        <div class="text-center">
          <button mat-button>View all</button>
        </div>
      </mat-menu> -->
      <img src="{{ user_image }}" class="user_img cursor-pointer push-left-sm" [matMenuTriggerFor]="userMenu">
      <!-- <div  class="cursor-pointer push-left-sm" [matMenuTriggerFor]="userMenu"></div> -->
      <mat-menu #userMenu="matMenu">
        <mat-list>
          <mat-list-item>
            <img mat-list-avatar style="width: 65px; height: 65px;" src="{{ user_image }}" class="user_img">
            <h4 matLine> {{ fullname }} </h4>
            <p matLine>
              <span>{{ myPosition }}</span>
            </p>
          </mat-list-item>
          <mat-divider></mat-divider>
        </mat-list>
        <mat-nav-list>
          <a mat-list-item>
            <h4 matLine>โปรไฟล์ของฉัน</h4>
          </a>
          <a mat-list-item (click)="logout()">
            <h4 matLine>ออกจากระบบ</h4>
          </a>
        </mat-nav-list>
      </mat-menu>
      <!-- <button mat-icon-button [matMenuTriggerFor]="settingsMenu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #settingsMenu="matMenu">
        <button mat-menu-item>
          <mat-icon>settings</mat-icon>
          Settings
        </button>
        <button mat-menu-item>
          <mat-icon>language</mat-icon>
          Language
        </button>
        <button mat-menu-item>
          <mat-icon>notifications_off</mat-icon>
          Notifications
        </button>
        <button mat-menu-item>
          <mat-icon>share</mat-icon>
          Share
        </button>
      </mat-menu> -->

    </mat-toolbar>
    <div class="wrapper" [class.wrapper-box]="boxedLayout">
      <router-outlet></router-outlet>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between stretch" style="background-color: #5a5a5a; padding-top: 2rem; padding-bottom: 1.8rem; color: white;">
      <div fxFlex="25" class="text-center">
        <img src="http://www.satit.nu.ac.th/2016/img/logo.png" width="100px" style="padding-left: 2rem;" />
      </div>
      <div fxFlex="25" style="color: white;">
        <h5>เว็บไซต์ที่เกี่ยวข้อง</h5>
        <a href="http://www.nu.ac.th" style="color: white;">มหาวิทยาลัยนเรศวร</a><br />
        <a href="http://www.nu.ac.th" style="color: white;">คณะศึกษาศาสตร์</a><br />
        <a href="http://www.nu.ac.th" style="color: white;">โรงเรียนมัธยมสาธิตมหาวิทยาลัยนเรศวร</a>
      </div>
      <div fxFlex="25">

        </div>
      <div fxFlex="25">
        <h5>ติดต่อเรา</h5>
        โรงเรียนมัธยมสาธิตมหาวิทยาลัยนเรศวร<br />
        เลขที่ 1 ถนนสนามบิน ตำบลในเมือง<br />
        อำเภอเมือง จังหวัดพิษณุโลก 65000<br />
        โทรศัพท์: 055-378-306 ถึง 310<br />
        โทรสาร: 055-378-305

      </div>
    </div>
    <div class="text-center" style="background-color: #2e2e2e; padding-top: 1rem; padding-bottom: 1rem; color: white;">
      พัฒนาโดย งานระบบเทคโนโลยีสารสนเทศ ฝ่ายนโยบายและแผน โรงเรียนมัธยมสาธิตมหาวิทยาลัยนเรศวร @2018
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
